<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  <link rel="canonical" href="http://riskdatalibrary.org/exposure.html">
  <link rel="shortcut icon" href="img/favicon.ico">
  <title>Exposure schema - Risk Data Library docs</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700" />

  <link rel="stylesheet" href="css/theme.css" />
  <link rel="stylesheet" href="css/theme_extra.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css" />
  <link href="css/extra.css" rel="stylesheet" />
  
  <script>
    // Current page data
    var mkdocs_page_name = "Exposure schema";
    var mkdocs_page_input_path = "exposure.md";
    var mkdocs_page_url = "/exposure.html";
  </script>
  
  <script src="js/jquery-2.1.1.min.js" defer></script>
  <script src="js/modernizr-2.8.3.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
        <a href="." class="icon icon-home"> Risk Data Library docs</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="./search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                <p class="caption"><span class="caption-text">Home</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="index.html">Introduction</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Data schemas</span></p>
                <ul class="current">
                    <li class="toctree-l1"><a class="reference internal" href="overview.html">Overview</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="common.html">Common tables</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="hazard.html">Hazard schema</a>
                    </li>
                    <li class="toctree-l1 current"><a class="reference internal current" href="exposure.html">Exposure schema</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#table-ged4allcontribution">Table: ged4all.contribution</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#table-ged4allexposure_model">Table: ged4all.exposure_model</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#table-ged4allasset">Table: ged4all.asset</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#table-ged4allcost_type">Table: ged4all.cost_type</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#table-ged4allcost">Table: ged4all.cost</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#table-ged4alloccupancy">Table: ged4all.occupancy</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#table-ged4alltags">Table: ged4all.tags</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#type-ged4allcategory_enum">Type: ged4all.category_enum</a>
    </li>
    </ul>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="vulnerability.html">Vulnerability schema</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="loss.html">Loss schema</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Data transfer</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="import.html">Data import</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="export.html">Data export</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="API.html">API list</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">About</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="glossary.html">Glossary</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="metadata.html">Metadata</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="license.html">License</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="faq.html">FAQ</a>
                    </li>
                </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href=".">Risk Data Library docs</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".">Docs</a> &raquo;</li>
    
      
        
          <li>Data schemas &raquo;</li>
        
      
    
    <li>Exposure schema</li>
    <li class="wy-breadcrumbs-aside">
      
        <a href="https://github.com/GFDRR/rdl-doc/edit/master/docs/exposure.md"
          class="icon icon-github"> Edit on GitHub</a>
      
    </li>
  </ul>
  
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h2 id="exposure-db-schema">Exposure DB schema</h2>
<p>The exposure schema was developed based on <a href="https://wiki.openstreetmap.org/wiki/GED4ALL">GEM Taxonomy 2.0</a> to accommodate the most important spatial features commonly employed in risk analysis to identify and estimate exposed value. 
The GED4ALL database schema contains the following tables: contribution, exposure_model, asset, occupancy, cost, cost_type, and tags.</p>
<p>Multiple types of structural/infrastructure assets and socio-economic exposure can be stored in the exposure database with attributes relevant to assessing risk from multiple hazards. 
The exposure schema provides 11 defined exposure types, for consistent classification of assets in different datasets: Residential, Commercial, Industrial, Healthcare, Education, Government, Infrastructure, Crop, Livestock, Forestry, and Mixed (as in <em>cf_common.occupancy_enum</em>).
The tables include general attributes that can be adapted to each asset type. More specific indicators can be stored using the <em>tags</em> table, e.g. population gender and age, urban growth rate, GDP or others.</p>
<p>Exposure can be stored at multiple scales and using polygon (e.g., for a building footprint or number of buildings in a district), polyline (e.g. road network segment), and point (e.g. geolocated building at a lat,lon position). 
Exposure units can be assigned the number night-time or day-time occupants, to represent population exposure.</p>
<p><img alt="Screenshot" src="img/exposure.png" />
ERD (exposure schema): exposure table contents (green) and links to common tables (yellow). The schema includes a SQL view (cyan).</p>
<h3 id="table-ged4allcontribution">Table: <em>ged4all.contribution</em></h3>
<p>This table contains metadata for the exposure dataset, including the exposure model source, data version and license, the project it was produced in, the purpose of the dataset and additional notes.</p>
<table class="table">
<thead>
<tr>
<th align="center"><strong>Req</strong></th>
<th scope="col"><strong>Field name</strong></th>
<th scope="col"><strong>Type</strong></th>
<th scope="col"><strong>Reference table</strong></th>
<th scope="col"><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><strong>*</strong></td>
<td>id</td>
<td>INT</td>
<td></td>
<td>Unique number ID</td>
</tr>
<tr>
<td align="center"><strong>*</strong></td>
<td>event_set_id</td>
<td>INT</td>
<td></td>
<td>Unique number ID of event_set</td>
</tr>
<tr>
<td align="center"><strong>*</strong></td>
<td>model_source</td>
<td>VARCHAR</td>
<td></td>
<td>Name of source model</td>
</tr>
<tr>
<td align="center"><strong>*</strong></td>
<td>model_date</td>
<td>DATE</td>
<td></td>
<td>Model release date</td>
</tr>
<tr>
<td align="center"></td>
<td>notes</td>
<td>TEXT</td>
<td></td>
<td>Details about the dataset</td>
</tr>
<tr>
<td align="center"></td>
<td>version</td>
<td>VARCHAR</td>
<td></td>
<td>Version of the dataset</td>
</tr>
<tr>
<td align="center"></td>
<td>purpose</td>
<td>TEXT</td>
<td></td>
<td>Purpose for what the data has been produced</td>
</tr>
<tr>
<td align="center"></td>
<td>project</td>
<td>VARCHAR</td>
<td></td>
<td>Project under which data has been produced</td>
</tr>
<tr>
<td align="center"><strong>*</strong></td>
<td>contributed_at</td>
<td>timestamp</td>
<td></td>
<td>Date of contribution</td>
</tr>
<tr>
<td align="center"><strong>*</strong></td>
<td>license_code</td>
<td>VARCHAR</td>
<td><em>cf_common.license</em></td>
<td>Type of license</td>
</tr>
</tbody>
</table>
<p><br/></p>
<h3 id="table-ged4allexposure_model">Table: <em>ged4all.exposure_model</em></h3>
<p>Each row in this table represents a collection of assets with a taxonomy_source (GEM Taxonomy, SynerG, FAO, etc) and category (buildings, road network, etc). 
A model can optionally contain one or more cost types (see model_cost_type), e.g. structural, contents and can also optionally contain information about the area occupied by the assets. Finally, a model can optionally specify any number of &quot;tags&quot;, which can be applied to each asset.</p>
<table class="table">
<thead>
<tr>
<th align="center"><strong>Req</strong></th>
<th scope="col"><strong>Field name</strong></th>
<th scope="col"><strong>Type</strong></th>
<th scope="col"><strong>Reference table</strong></th>
<th scope="col"><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><strong>*</strong></td>
<td>id</td>
<td>INT</td>
<td></td>
<td>Unique number ID</td>
</tr>
<tr>
<td align="center"><strong>*</strong></td>
<td>name</td>
<td>VARCHAR</td>
<td></td>
<td>Name of exposure model</td>
</tr>
<tr>
<td align="center"></td>
<td>description</td>
<td>VARCHAR</td>
<td></td>
<td>Description of exposure model</td>
</tr>
<tr>
<td align="center"></td>
<td>taxonomy_source</td>
<td>VARCHAR</td>
<td></td>
<td>Name of taxonomy source</td>
</tr>
<tr>
<td align="center"><strong>*</strong></td>
<td>category</td>
<td>ENUM</td>
<td><em>ged4all.category_enum</em></td>
<td>Type of asset</td>
</tr>
<tr>
<td align="center"></td>
<td>area_type</td>
<td>VARCHAR</td>
<td></td>
<td>Aggregated or per asset</td>
</tr>
<tr>
<td align="center"></td>
<td>area_unit</td>
<td>VARCHAR</td>
<td></td>
<td>Unit of measure of area</td>
</tr>
<tr>
<td align="center"></td>
<td>tag_names</td>
<td>VARCHAR</td>
<td></td>
<td>Additional tag information</td>
</tr>
<tr>
<td align="center"></td>
<td>use</td>
<td>ENUM</td>
<td><em>cf_common.occupancy_enum</em></td>
<td>Usage type of the asset (e.g. residential, commercial)</td>
</tr>
</tbody>
</table>
<p><br/></p>
<h3 id="table-ged4allasset">Table: <em>ged4all.asset</em></h3>
<p>Each row in the asset table represents a single asset or collection of assets, such as a building, aggregated collection of buildings, an item in an infrastructure network, or an area of farmland. 
The number_of_units field is used to specify the number of assets of this type at this location. 
The taxonomy value must be set to a valid taxonomy string using the taxonomy system specified in the exposure_model table, and identifies the typology of this asset. </p>
<p>There are two geometry fields providing geospatial information:
- The &quot;the_geom&quot; field specifies a single point location and can be considered as a composite representation of latitude, longitude and a reference to WGS84. Only Point geometries are stored in this field.
- The &quot;full_geom&quot; field is an optional representation of any geometry type (point, line, polygon, multipoint, multi-line, etc.) supported by the standard and can be used to describe the footprint of a building, regional boundaries, or lifelines.type (point, line, polygon, multipoint, multi-line, etc.) supported by the standard and can be used to describe the footprint of a building, regional boundaries, or lifelines.</p>
<table class="table">
<thead>
<tr>
<th align="center"><strong>Req</strong></th>
<th scope="col"><strong>Field name</strong></th>
<th scope="col"><strong>Type</strong></th>
<th scope="col"><strong>Reference table</strong></th>
<th scope="col"><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><strong>*</strong></td>
<td>id</td>
<td>INT</td>
<td></td>
<td>Unique number ID</td>
</tr>
<tr>
<td align="center"><strong>*</strong></td>
<td>exposure_model_id</td>
<td>INT</td>
<td></td>
<td>Unique number ID of source exposure model</td>
</tr>
<tr>
<td align="center"><strong>*</strong></td>
<td>asset_ref</td>
<td>VARCHAR</td>
<td></td>
<td>Alphanumeric code supplied by user</td>
</tr>
<tr>
<td align="center"><strong>*</strong></td>
<td>taxonomy</td>
<td>VARCHAR</td>
<td></td>
<td>Alphanumeric code for the taxonomy source</td>
</tr>
<tr>
<td align="center"></td>
<td>number_of_units</td>
<td>FLOAT</td>
<td></td>
<td>Number of assets represented</td>
</tr>
<tr>
<td align="center"></td>
<td>area</td>
<td>FLOAT</td>
<td><em>exposure_model.area_unit</em></td>
<td>Area of the asset in the units specified</td>
</tr>
<tr>
<td align="center"><strong>*</strong></td>
<td>the_geom</td>
<td>GEOM</td>
<td></td>
<td>Associated geometry data (point location)</td>
</tr>
<tr>
<td align="center"></td>
<td>full_geom</td>
<td>GEOM</td>
<td></td>
<td>Associated geometry data (polygon, multiline, multipolygon...)</td>
</tr>
</tbody>
</table>
<p><br/></p>
<h3 id="table-ged4allcost_type">Table: <em>ged4all.cost_type</em></h3>
<p>Each exposure model can optionally have one or more types of cost associated with loss or damage to assets. 
For example, the cost of the building structure by square meter or the cost of the contents of a single building. 
Each cost type entry describes a category of cost, an aggregation type and a unit.</p>
<table class="table">
<thead>
<tr>
<th align="center"><strong>Req</strong></th>
<th scope="col"><strong>Field name</strong></th>
<th scope="col"><strong>Type</strong></th>
<th scope="col"><strong>Reference table</strong></th>
<th scope="col"><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><strong>*</strong></td>
<td>id</td>
<td>INT</td>
<td></td>
<td>Unique number ID</td>
</tr>
<tr>
<td align="center"><strong>*</strong></td>
<td>exposure_model_id</td>
<td>INT</td>
<td></td>
<td>Unique number ID of source exposure model</td>
</tr>
<tr>
<td align="center"><strong>*</strong></td>
<td>cost_type_name</td>
<td>VARCHAR</td>
<td></td>
<td>Type of asset cost (structural, non-structural, contents, business interruption)</td>
</tr>
<tr>
<td align="center"><strong>*</strong></td>
<td>aggregation_type</td>
<td>VARCHAR</td>
<td></td>
<td>Aggregated or per asset</td>
</tr>
<tr>
<td align="center"></td>
<td>unit</td>
<td>VARCHAR</td>
<td></td>
<td>Cost unit of measure</td>
</tr>
</tbody>
</table>
<p><br/></p>
<h3 id="table-ged4allcost">Table: <em>ged4all.cost</em></h3>
<p>Each row in the cost table represents a cost of a given cost type for a given asset. 
The asset_id and cost_type_id fields are foreign keys used to identify an asset and model_cost_type. 
The value field provides the actual cost value in the unit specified in the corresponding model_cost_type entry.</p>
<table class="table">
<thead>
<tr>
<th align="center"><strong>Req</strong></th>
<th scope="col"><strong>Field name</strong></th>
<th scope="col"><strong>Type</strong></th>
<th scope="col"><strong>Reference table</strong></th>
<th scope="col"><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><strong><em>*</em></strong></td>
<td>id</td>
<td>INT</td>
<td></td>
<td>Unique number ID</td>
</tr>
<tr>
<td align="center"><strong>*</strong></td>
<td>asset_id</td>
<td>INT</td>
<td></td>
<td>Unique number ID of the asset</td>
</tr>
<tr>
<td align="center"><strong>*</strong></td>
<td>cost_type_id</td>
<td>VARCHAR</td>
<td></td>
<td>Unique number ID of the cost type</td>
</tr>
<tr>
<td align="center"><strong>*</strong></td>
<td>value</td>
<td>FLOAT</td>
<td></td>
<td>Cost value</td>
</tr>
<tr>
<td align="center"></td>
<td>deductible</td>
<td>FLOAT</td>
<td></td>
<td></td>
</tr>
<tr>
<td align="center"></td>
<td>insurance_limit</td>
<td>FLOAT</td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p><br/></p>
<h3 id="table-ged4alloccupancy">Table: <em>ged4all.occupancy</em></h3>
<p>The occupancy table is used to store information about the occupants of an asset in a given period, for example, the number of people in a given building during the day and during the night. 
For some cases the period might refer to a season, for example when considering livestock or agricultural assets. 
In some communities the term &quot;occupancy&quot; is used to refer to building usage, for example &quot;industrial&quot; or &quot;residential&quot;; this concept can be modelled in the GED4ALL schema using tags and/or by using a taxonomy system that supports building usage specification, such as the GEM Building Taxonomy.</p>
<table class="table">
<thead>
<tr>
<th align="center"><strong>Req</strong></th>
<th scope="col"><strong>Field name</strong></th>
<th scope="col"><strong>Type</strong></th>
<th scope="col"><strong>Reference table</strong></th>
<th scope="col"><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><strong><em>*</em></strong></td>
<td>id</td>
<td>INT</td>
<td></td>
<td>Unique number ID</td>
</tr>
<tr>
<td align="center"><strong>*</strong></td>
<td>asset_id</td>
<td>INT</td>
<td></td>
<td>Unique number ID of the asset</td>
</tr>
<tr>
<td align="center"><strong>*</strong></td>
<td>period</td>
<td>VARCHAR</td>
<td></td>
<td>Occupancy type (night/day)</td>
</tr>
<tr>
<td align="center"><strong>*</strong></td>
<td>occupants</td>
<td>FLOAT</td>
<td></td>
<td>Number of occupants</td>
</tr>
</tbody>
</table>
<p><br/></p>
<h3 id="table-ged4alltags">Table: <em>ged4all.tags</em></h3>
<p>Each row in the tags table represents a name and value pair for a given asset. 
The asset_id is a foreign key used to identify an asset. 
The name field represents the name of the tag while the value field contains the associated value. 
Tags may be used to store any named scalar information with an asset, but in particular are useful for storing socio-economic indicators and their associated values, and also for grouping assets into census tracts, for example.</p>
<table class="table">
<thead>
<tr>
<th align="center"><strong>Req</strong></th>
<th scope="col"><strong>Field name</strong></th>
<th scope="col"><strong>Type</strong></th>
<th scope="col"><strong>Reference table</strong></th>
<th scope="col"><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td align="center"><strong><em>*</em></strong></td>
<td>id</td>
<td>INT</td>
<td></td>
<td>Unique number ID</td>
</tr>
<tr>
<td align="center"><strong>*</strong></td>
<td>asset_id</td>
<td>INT</td>
<td></td>
<td>Unique number ID of the asset</td>
</tr>
<tr>
<td align="center"><strong>*</strong></td>
<td>name</td>
<td>VARCHAR</td>
<td></td>
<td>Name of the tag</td>
</tr>
<tr>
<td align="center"><strong>*</strong></td>
<td>value</td>
<td>VARCHAR</td>
<td></td>
<td>Number associated with the tag</td>
</tr>
</tbody>
</table>
<p><br/></p>
<h3 id="type-ged4allcategory_enum">Type: <em>ged4all.category_enum</em></h3>
<p>The enumerated list of possible assert categories.</p>
<table class="table">
<thead>
<tr>
<th scope="col"><strong>ENUM</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>buildings</td>
</tr>
<tr>
<td>indicators</td>
</tr>
<tr>
<td>infrastructure</td>
</tr>
<tr>
<td>crops, livestock and forestry</td>
</tr>
</tbody>
</table>
<p><br/></p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="vulnerability.html" class="btn btn-neutral float-right" title="Vulnerability schema">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="hazard.html" class="btn btn-neutral" title="Hazard schema"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a href="https://github.com/GFDRR/rdl-doc/" class="fa fa-github" style="float: left; color: #fcfcfc"> GitHub</a>
      
      
        <span><a href="hazard.html" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="vulnerability.html" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '.';</script>
    <script src="js/theme.js" defer></script>
      <script src="search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
